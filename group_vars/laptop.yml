# group_vars/laptop.yml

# ============================================================================
# Restore and configuration flags
# ============================================================================
restore_app_settings: true
restore_fonts: true
configure_dock: true
configure_login_items: true

# ============================================================================
# SSH Configuration (Laptop Override)
# ============================================================================
# laptop machines get FULL SSH keys (private + public) from their own backup
# This overrides the default in all.yml which only gets public keys
ssh_source_base: "{{ macos_network_base }}/ssh"

ssh_files:
  - { src: "id_ed25519",     dest: "id_ed25519",     mode: '0600', is_private_key: true }
  - { src: "id_ed25519.pub", dest: "id_ed25519.pub", mode: '0644' }
  - { src: "id_rsa",         dest: "id_rsa",         mode: '0600', is_private_key: true }
  - { src: "id_rsa.pub",     dest: "id_rsa.pub",     mode: '0644' }
  - { src: "config",         dest: "config",         mode: '0600' }
  - { src: "authorized_keys", dest: "authorized_keys", mode: '0600' }
  
# ============================================================================
# Dotfiles Configuration
# ============================================================================

laptop_dotfiles_files:
  # Essential shell config
  - { src: ".zshrc", dest: ".zshrc", mode: '0644' }
  - { src: ".zprofile", dest: ".zprofile", mode: '0644' }
  
  # Git config
  - { src: ".gitconfig", dest: ".gitconfig", mode: '0644' }
  - { src: ".gitignore_global", dest: ".gitignore_global", mode: '0644' }
  
  # Prompt
  - { src: ".config/starship.toml", dest: ".config/starship.toml", mode: '0644' }
  
  # VS Code Projects
  - { src: ".config/vscode_projects.json", dest: ".config/vscode_projects.json", mode: '0644' }

# ============================================================================
# Applications
# ============================================================================

# Command Line Tools (Brew Formulae)
laptop_formula_apps:
  # Common (from old common role)
  - dockutil
  - git
  - mas
  - zstd
  # laptop-specific
  - exiftool
  - gnu-tar
  - gum
  - immich-go
  - pandoc
  - mkvtoolnix
  - starship
  - tree

# GUI Applications (Brew Casks)
laptop_cask_apps:
  # Common
  - affinity
  - appcleaner
  - bloom
  - discord
  - jordanbaird-ice
  - loop
  - spotify
  - vlc
  - whatsapp
  # laptop-specific
  - adobe-creative-cloud
  - angry-ip-scanner
  - balenaetcher
  - brave-browser
  - visual-studio-code
  - carbon-copy-cloner
  - downie
  #- fontbase
  - github
  - google-drive
  - handbrake
  - heroic
  - iina
  - imageoptim
  - jump-desktop-connect
  - lulu
  - mactracker
  - mediahuman-audio-converter
  - neofinder
  - obsidian
  - ogdesign-eagle # Eagle.cool
  - platypus
  - plex
  - pronotes
  - qlmarkdown
  - raycast
  - resilio-sync
  - slack
  - sonos
  - superwhisper
  - the-unarchiver


# Mac App Store (MAS)
laptop_mas_apps:
  - { id: 1586435171, name: 'Actions' }
  - { id: 1160435653, name: 'AutoMounter' }  
  - { id: 425264550, name: 'Blackmagic Speed Test' }  
  - { id: 424390742, name: 'Compressor' }   
  - { id: 411643860, name: 'DaisyDisk' }
  - { id: 1453273600, name: 'Data Jar' }
  - { id: 325206381, name: 'Flame Services Browser' }
  - { id: 1532597159, name: 'Mp3tag' }
  - { id: 1455214828, name: 'MQTT Explorer' }
  - { id: 603637384, name: 'Name Mangler 3' }
  - { id: 463362050, name: 'Photosweeper' }
  - { id: 1598580439, name: 'RAW Convertor' }
  - { id: 1550457805, name: 'Soro for Sonos' }
  - { id: 1481853033, name: 'Strongbox Pro' }
  - { id: 1475387142, name: 'Tailscale' }
  - { id: 1490879410, name: 'Trash Me' }
  - { id: 1062679359, name: 'Typeface' }



# Apps to install via DMG/PKG 
laptop_dmg_pkg_apps:
  - name: "CrossOver"
    url: "/Volumes/backup_proxmox/macos/installers/CrossOver 25.1.1.dmg"
    volume: "CrossOver 25.1.1"

  - name: "Marked"
    url: "/Volumes/backup_proxmox/macos/installers/Marked 2.dmg"
    volume: "Marked 2"

  - name: "Offshoot"
    url: "/Volumes/backup_proxmox/macos/installers/OffShoot.dmg"
    volume: "OffShoot 25.3.3"


# ============================================================================
# Dock Configuration
# ============================================================================

laptop_dock_clear_all: true

laptop_dock_apps:
  - path: "/Applications/Bloom.app"
  - path: "/Applications/Brave Browser.app"
  - path: "/System/Applications/Messages.app"
  - path: "/System/Applications/Notes.app"
  - path: "/System/Applications/Reminders.app"
  - path: "/System/Applications/System Settings.app"

laptop_dock_folders: []

# ============================================================================
# Login Items
# ============================================================================

laptop_login_items:
  - name: "AutoMounter"
    path: "/Applications/AutoMounter.app"
    hidden: true

  - name: "Bloom"
    path: "/Applications/Bloom.app"
    hidden: false

  - name: "Google Drive"
    path: "/Applications/Google Drive.app"
    hidden: true

  - name: "Ice"
    path: "/Applications/Ice.app"
    hidden: false
  
  - name: "Loop"
    path: "/Applications/Loop.app"
    hidden: false
  
  - name: "LuLu"
    path: "/Applications/LuLu.app"
    hidden: false

  - name: "ProNotes"
    path: "/Applications/ProNotes.app"
    hidden: false

  - name: "Raycast"
    path: "/Applications/Raycast.app"
    hidden: false

  - name: "superwhisper"
    path: "/Applications/superwhisper.app"
    hidden: false

# Optionally remove items
laptop_remove_login_items:
  - "Spotify"